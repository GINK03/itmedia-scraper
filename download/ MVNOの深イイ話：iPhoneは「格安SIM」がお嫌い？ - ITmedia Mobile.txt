　日本のスマートフォン市場の中で最も存在感が大きいのは、間違いなくiPhoneでしょう。「格安SIM」で盛り上がるMVNOサービス利用者の間でも、iPhoneはもちろん注目を集めています。特に2014年9月のiPhone 6／6 Plusの発売時に、ドコモ、KDDI、ソフトバンクの3大キャリアと同時にAppleストアで正式な「SIMロックフリー版iPhone」が発売されてからは、MVNOのSIMカードとiPhoneを組み合わせて利用する人がとても増えています。 　そんなiPhoneですが、残念ながらMVNOのSIMカードと組み合わせた場合に不思議な動作をすることがありました。この記事を執筆している現在は大きな問題にはなっていませんが、過去に実際にあった事例では「MVNOのSIMでは通信ができなくなった」ことや、「iPhone本体はLTEに対応しているはずなのに、なぜか3Gで接続されてしまい、LTEが使えない」ということが発生していました。こういうトラブルは、3大キャリアの契約では起こりません。どうしてMVNOのSIMカードでだけこんなことが起こるのでしょうか？ 　日本の3大キャリアは、AppleからiPhoneの供給を受け、自社のショップで通信契約とセットでiPhone本体を販売しています。各携帯電話会社は、単にiPhoneを販売するだけでなく、Appleとの間でiPhoneについての詳細な情報交換を行っていると思われます。例えば、iPhoneの通信部分についての詳しい仕様の開示を受けたり、発表前の製品やiOSを入手して自社の通信設備と問題なく通信が行えるかの事前確認です。場合によっては、このような情報を元に自社の通信設備の修正を行うこともあるようです。 　また、iOSの中には各携帯電話会社固有の設定が埋め込まれています。これは、携帯電話会社が提供した情報を元にAppleがとりまとめているもので、「キャリア設定」と呼ばれています。iPhoneにSIMカードを取り付けると、SIMカードを発行した会社に合わせた設定が自動的に読み込まれるようになっています。 　こういった情報の交換や設定の埋め込みは、日本ではiPhone取り扱いキャリアのみが可能であり、MVNOでは行われていません。この点が3大キャリアととMVNOで異なるポイントです。 　ここまでの説明を読んで「MVNOが使っているSIMカードはキャリアのものと同じだから、問題ないのでは？」と感じられた方もいらっしゃるかと思います。その指摘は正しく、MVNOのSIMカードをiPhoneに取り付けた場合、MVNOが利用しているキャリアのSIMカードと同じ設定が読み込まれます。ところが、これが逆に混乱をもたらしているのです。 　MVNOの通信設備はキャリアの設備と一部が別になっているため、通信のための設定も一部が異なります。例えば「APN」という項目は、MVNOであるIIJmioのSIMカードを利用する場合「iijmio.jp」としなければなりません。しかし、先程の「キャリア設定」からドコモの設定が読み込まれてしまうため、それだけではMVNO用の設定が行えません。このため、各MVNOが配布する「APN構成プロファイル」というファイルを読み込ませて、設定を上書きする必要があります。 　ところが、この「APN構成プロファイル」を読み込ませても、通信が安定しないということがありました。冒頭に書いたとおり、通信が全くできなかったり、LTEで接続されなかったりという現象です。この現象は、長らく原因が分からなかったのですが、2015年7月になって、「キャリア設定」に含まれているキャリア向けの設定が想定外のところで有効になっていることが原因であると分かりました。また、APN構成プロファイルにパラメータを追加することで、その問題を回避できることも分かり、ようやくこれで安定して通信ができるようになりました。 　MVNOでもこうした問題を少しでも解決するために、独自に調査、解析を行っていますが、キャリアと比べるとできることが限られます。また、仮に問題が見つかったとしても、iPhoneを取り扱っていないためAppleとの情報交換が行えず、問題の修正がすぐには行われないこともあります。こうした事情があって、MVNOのSIMカードでiPhoneを使うときにトラブルが発生しがちなのです。 　このような通信に関する問題は、iPhoneだけで起こっているわけではありません。Androidスマートフォンでも類似の問題が発生していることが、私たちIIJの調査で分かっています。 　iPhoneはAndroidと比べると、1つの機種の普及台数がとても多いのが特徴です。このため、ひとたびiPhoneで何か問題が発生すると、とても多くの方に影響が出るため、皆さんの話題に上りやすいという傾向があります。 　また、iPhoneは発売後に行われるOSのアップデートがAndroidと比べて頻繁です。OSのアップデートにより新しい機能が追加されるのは喜ばしいのですが、アップデートの際に、今までに起こらなかったトラブルが新たに発生してしまうこともあるようです。 　MVNOのSIMカードでiPhoneを使いたい方には少し心配な状況ですが、MVNOによっては自社のSIMカードをiPhoneで使う場合の動作確認状況を公開していますので、そういった情報を参考にすることでトラブルを回避することができます。 堂前清隆 株式会社インターネットイニシアティブ（IIJ） 広報部 技術広報担当課長 「IIJmioの中の人」の1人として、IIJ公式技術ブログ「てくろぐ」の執筆や、イベント「IIJmio meeting」を開催しています。エンジニアとしてコンテナ型データセンターの開発やケータイサイトのシステム運用、スマホの挙動調査まで、インターネットのさまざまなことを手がけてきました。 基本情報から価格比較まで――格安SIMの情報はここでチェック！→「SIM LABO」 Copyright© 2017 ITmedia, Inc. All Rights Reserved. この記事が気に入ったらITmedia Mobile に「いいね！」しよう