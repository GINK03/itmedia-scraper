　2017年4月に筆者が所属するIIJが主催したイベント「IIJmio meeting  15 大阪会場」の席上で、「ITmediaで実施している、アプリで測ったスピードテストの結果と、画像のダウンロード速度が大きく違う事業者さんがある」というご質問を会場の方からいただきました（関連記事）。 　この「アプリ」とは、AndroidやiPhoneのマーケットで無料で配布されている「スピードテストアプリ」です。スピードテストアプリについては以前にこの連載でも取り上げた通り、いろいろな前提条件はあるものの、MVNOの比較ポイントである通信速度を調べるための手法の1つとしてよく使われています（関連記事）。 　この記事が掲載されているITmedia Mobileでも、編集部の調査記事として各MVNOの速度比較が定期的に掲載されています。また、他のWeb媒体や雑誌・新聞、そして個人のブログでも同じ趣旨の記事が掲載されています。これらの記事のほとんどではスピードテストアプリの結果をもって、MVNO間の優劣を比較するという構成になっています。今回の指摘は、一部のMVNOではこれらの結果が実際の利用感を反映していないのではないか、というものです。 　同様の指摘は他にもあり、例えば2017年3月に開催された「モバイルフォーラム2017」の席上ででもジャーナリストの石川温氏から同じ趣旨の問題提起がなされています（関連記事）。 　ネット上では、このようなスピードテストアプリの不可解な挙動に対して「スピードテストブースト」や「スピテス番長」などいう言葉が使われています。その言葉の意味することは、「MVNOが細工をすることでスピードテストアプリだけ良い結果が出るようにしているのではないか」という疑念です。比較記事の多くは、スピードテストアプリを使えば「公平な」比較ができるという前提で書かれていますので、仮にスピードテストの結果を細工できるというのであれば、これらの記事の根拠が揺らいでしまいます。 　こうした指摘を受けてか、ITmedia Mobile編集部では4月よりスピードテストアプリだけでなく、YouTubeなど実際のアプリケーションを使って実際の利用時の体感を調査する試みを始めているようです。しかし残念ながら、スピードテストアプリの結果とその他のアプリの利用感が懸け離れているMVNOがあることがこの記事でも確認されています（関連記事）。 　これらのMVNOは「スピードテストブースト」のような細工をしているのでしょうか？　そもそも、技術的にスピードテストの結果だけを良くするような細工は可能なのでしょうか？　今回の「MVNO深イイ話」では、スピードテストブーストが実現できるのかどうか、そして、その技術的な背景について紹介したいと思います。 　スピードテストブーストについて考えるためには、まず「混雑のために通信速度が低下する」という現象について理解しなければなりません。実際の環境ではさまざまな要因が重なり複雑な挙動をするため一言で説明するのは難しいのですが、この記事では要点のみを単純化して説明してみたいと思います。 　次の図は、ある装置を境に容量の異なる通信回線が接続されている様子を表しています。それぞれの回線の中には、パケットという単位でデータが流れています。ここでは1秒間に120パケットのデータを流すことができる回線を「容量120の回線」と表しています。 　いま、装置の右側から左側に向けて毎秒120個のパケットが流れています。装置右側の回線は十分に容量が大きい状態、左側の回線は容量120としていますので、毎秒120個のパケットは問題なくこの機器を通過できます。 　この、「毎秒120個のパケットが流れている」という状態を「通信速度120」と表すことにします。 　では、ここに毎秒140個のパケットが流れてきた場合はどうなるでしょうか。装置左側の回線は容量120しかありませんので、全てのパケットが通過することはできません。この場合、通過できなかったパケットは装置上の「バッファ」と呼ばれる領域に一時的に保留された後、破棄されます。破棄されたパケットは通信相手に届きませんので、データの一部が欠落してしまいます。これでは利用に支障がありますので、実際には欠落したデータを再度送り直す「再送」が行われます。 　パケットを破棄する前にバッファに保留するのは、パケットの破棄をできる限り避けるためです。実際の環境ではデータの流れる量は一様ではないため、少し時間をずらせばパケットを破棄せずに送信できる可能性があります。もちろんパケットを無限に保留することはできないため、バッファに一定の量がたまったり、時間がたったりすると、パケットは破棄されてしまいます。バッファにどのぐらいの量、何時間パケットをためておくかは機器の性能や設定によります。一切バッファにためずに即時パケットを破棄する設定も可能です。 　パケットの破棄が起こった結果、機器左側の回線には毎秒120個のパケットしか流れません。つまり、機器の右側からどれだけパケットが流れてきても、機器の左側では回線容量の上限である通信速度120に制限されるのです。 　ここまで、機器を通過するパケットは特に区別をしていませんでした。次の例では、1つの機器、回線を赤、緑、青の通信が同時に通過するという状態を考えてみます。 　機器の右側から、赤、緑、青の種類のパケットがそれぞれ毎秒100個流れてきています。しかし、機器左側の回線は容量120しかありませんので、この全てを通過させることはできません。通過できなかったパケットは、バッファに保留された後破棄されます。このとき、赤、緑、青のそれぞれから均等にパケットを破棄したとすると、機器左側の回線には、赤、緑、青のパケットがそれぞれ毎秒40個ずつ流れ、合計が回線容量と等しい毎秒120個になります。 　この状態について、赤、緑、青それぞれの通信に着目すると、「機器の右側では通信速度100だったものが、機器左側では通信速度40に低下した」と言うことができます。 　ここまで説明した内容を、MVNOの設備に当てはめてみましょう。 　この図は、キャリアの携帯電話網にMVNOの設備が接続されている状況を示しています。インターネットからダウンロードするパケットがMVNOの設備を経由して、キャリアの携帯電話網を通り、最終的にMVNO契約者のスマートフォンに届きます。しかし、MVNO〜キャリア間の通信回線は、MVNOとキャリアの契約により通過できるパケットの量が決まっており、それを超過したパケットはMVNOの設備上で破棄されます。結果、スマートフォンに届くパケットの量が制限され、利用者視点で見ると「通信速度が遅い」ように感じられるのです。 　これが、「混雑のために通信速度が低下する」という現象に相当します。  基本情報から価格比較まで――格安SIMの情報はここでチェック！→「SIM LABO」  Copyright© 2017 ITmedia, Inc. All Rights Reserved. この記事が気に入ったらITmedia Mobile に「いいね！」しよう