　おサイフケータイのベース技術になっているFeliCaとNFCの両方に対応したスマートフォンが増えている。FeliCa対応で従来のサービスをそのまま利用しつつ、世界標準として利用が広がりつつあるType A／BをベースとしたNFCの両方をサポートすることで、異なるセキュリティ方式と通信方式を乗り越え、サービスの相互運用や端末の利便性を向上させるのが狙いだ。 　一方でiPhoneを擁するiOSデバイスのように、そもそもNFCのような技術をサポートしないものもある。こうした過渡期の状況下で、さまざまな方式をサポートする「中間ソリューション」ともいえる数々の技術を、Mobile World Congress 2013（MWC 2013）のFeliCa NetworksとNTTドコモのブースで見ることができた。 　NFC／FeliCa対応端末と、iPhoneのような非対応端末が混在する中、コンサートなどのモバイルチケット向けに、おサイフケータイとQRコードの両技術を採用してどちらでも入場ゲートでのチェックインを行えるようにするボードウォークの事例がFeliCa Networksのブースで紹介されていた。 　これはMWC 2012でも展示されていたもので、FeliCaベースのおサイフケータイにチケット情報を記録し、ゲートでの入場チェックを行う。iPhoneのようなNFC系サービスに対応しない端末も多いため、その場合はチケットアプリやメールからQRコードを表示できるようにしており、これをFeliCaリーダー兼赤外線スキャナーにかざすことでゲートを通過できる。ただしQRコードは複製が可能なため、同じチケット情報を持つ来場者が何度も出入りできないようにするための工夫がなされている。 　例えば、同じチケットを再度スキャンすると「再入場扱い」「入場禁止」などの警告が表示される。このチケット情報のデータベースは、ネットワークの先にあるバックエンドのサーバで管理できるほか、チケット読み取り機内に小型サーバを用意し、ローカル端末のみで入場情報の管理をすることもできる。 　複数のゲートで入場情報を管理する場合には、読み取り機同士で入場情報を共有する必要があるため、バックエンドのサーバにアクセスする必要がある。この場合には、読み取り機とバックエンドのサーバはリアルタイムで通信するのではなく、一定のタイミングで定期的に入場情報を交換し、最新情報と同期する。こうした仕組みは鉄道の改札機やバスなどで導入されているものに近い。 　これとは別に、「持ち運べるNFCタグ」というソリューションもある。「NFC Active Tag」というもので、NFC対応スマートフォンにあるタグ情報を“タッチ”で移し替えることが可能な専用デバイスだ。小型の万歩計のようなサイズと形状のデバイスで可搬性に優れており、これをスマートフォンやICカードの代わりに持ち歩き、NFC対応リーダーにかざすことで決済などを行える。 　また同デバイスには電子ペーパーのディスプレイが内蔵されており、ここにバーコードを表示することも可能。入場チケットでバーコードを読み込むタイプのものがあるが、このようなNFC非対応リーダーであってもNFC Active Tagは利用できる。またスマートフォンの液晶では、バーコードを表示してリーダーで読ませるのに苦労する場面があるが、電子ペーパーなら常時電力を消費せずに見やすい状態でバーコードを表示し続けられるため、こうした用途に向いている。 　NFCは共通規格であるため、Type A／Bの名称で知られる「Mifare」とType Fの「FeliCa」の両技術に対応したインタフェースを持つが、一方でNFCが標準で定義するセキュアエレメント（SE）の仕様はType A／Bのみであり、これがFeliCaをベースとしたおサイフケータイを世界で利用できなかったり、あるいは逆に海外のNFC対応端末を日本に持ってきても各種非接触通信インフラをそのまま利用できない原因となっている。相互運用できないということは、FeliCaベースのサービスを利用するためにはNFC対応に加え、別途FeliCaの読み書きが可能な専用リーダーや端末が必要になるわけで、これではPOSレジなどを導入する小売事業者にとって負担になってしまう。 　今回、FeliCa Networksで紹介されていた技術の1つは、NFCでFeliCaのカード情報を読み、セキュリティで保護された状態のままネット上のサーバへとデータを転送し、サーバ上でセキュアデータを開いて各種処理を行うというものだ。 　具体的には、従来のPOSやKIOSKに見られる非接触型カードソリューションで、NFC（FeliCa）の非接触通信によるデータ通信を行う一方で、ICチップ（セキュアエレメント）へとアクセスしてセキュアに保護されたデータの読み書きも同時に行っている。今回のデモでは、ICカードに「nanaco」、Nexus 10をカードリーダーとして利用しているが、Nexus 10はType A／BのNFC通信にしか対応しておらず、本来であればnanacoのセキュアデータを直接読むことはできない。だがデータをFeliCaデータの読めるサーバに直接バイパス転送することで、クラウドを介してデータを読むことを可能にしている。 　この方式のメリットとしては、カードリーダー端末はセキュアデータをバイパスするだけでよく、インテリジェント化される必要がないため、POSやKIOSKなどの端末単価を下げる点が挙げられる。これは、いわゆるNFCリーダー端末の「シンクライアント化」といえるだろう。 　デメリットとしては、NFC端末（ICカード）がカードリーダーにタッチされた状態から結果が返ってくるまで時間がかかることで、FeliCa Networksの担当者によれば「最大でも3秒、通常は1秒程度」と、反応に若干のラグがある点だ。素早いレスポンスを要求される交通系システムには不向きだが、利用者側にも時間的な余裕がある店頭でのPOS決済やKIOSK端末での利用に適しており、コスト面と合わせてNFC対応POSやKIOSK導入促進が期待されている。こうしたシンクライアント方式でのKIOSKは、すでにFeliCaベースで一部導入が進んでいるという。 Copyright© 2017 ITmedia, Inc. All Rights Reserved. この記事が気に入ったらITmedia Mobile に「いいね！」しよう